(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(62)},62:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getTodoRequest",function(){return U}),n.d(r,"getTodoComplete",function(){return I}),n.d(r,"addTodoRequest",function(){return A}),n.d(r,"addTodoComplete",function(){return q}),n.d(r,"deleteTodoRequest",function(){return P}),n.d(r,"deleteTodoComplete",function(){return F}),n.d(r,"updateTodoRequest",function(){return M}),n.d(r,"updateTodoComplete",function(){return B}),n.d(r,"addTodo",function(){return Q}),n.d(r,"deleteTodo",function(){return V}),n.d(r,"editTodo",function(){return J}),n.d(r,"completeTodo",function(){return X}),n.d(r,"completeAllTodos",function(){return G}),n.d(r,"clearCompleted",function(){return H}),n.d(r,"setVisibilityFilter",function(){return Y});var a,c=n(2),o=n.n(c),u=n(10),s=n(12),i=n(13),l=n(17),d=n(14),p=n(18),f=n(15),b=n.n(f),O=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={text:n.props.text||""},n.handleSubmit=function(e){var t=e.target.value.trim();13===e.which&&(n.props.onSave(t),n.props.newTodo&&n.setState({text:""}))},n.handleChange=function(e){n.setState({text:e.target.value})},n.handleBlur=function(e){n.props.newTodo||n.props.onSave(e.target.value)},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("input",{className:b()({edit:this.props.editing,"new-todo":this.props.newTodo}),type:"text",placeholder:this.props.placeholder,autoFocus:!0,value:this.state.text,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleSubmit})}}]),t}(c.Component),h={apiUrl:"https://thawing-sea-56566.herokuapp.com"},m=function(e){e.addTodo;var t=e.addTodoRequest;return o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"todos"),o.a.createElement(O,{newTodo:!0,onSave:function(e){0!==e.length&&t("".concat(h.apiUrl,"/tasks"),{text:e})},placeholder:"What needs to be done?"}))},E="GET_TODO_REQUEST",j="GET_TODO_COMPLETE",v="ADD_TODO_REQUEST",T="ADD_TODO_COMPLETE",x="DELETE_TODO_REQUEST",y="DELETE_TODO_COMPLETE",g="UPDATE_TODO_REQUEST",w="UPDATE_TODO_COMPLETE",k="ADD_TODO",_="DELETE_TODO",C="EDIT_TODO",D="COMPLETE_TODO",S="COMPLETE_ALL_TODOS",R="CLEAR_COMPLETED",N="REQUEST_ERROR",L="SENDING_REQUEST",U=function(e){return{type:E,url:e}},I=function(e){return{type:j,data:e}},A=function(e,t){return{type:v,url:e,payload:t}},q=function(e){return{type:T,data:e}},P=function(e){return{type:x,url:e}},F=function(e){return{type:y,data:e}},M=function(e,t){return{type:g,url:e,payload:t}},B=function(e){return{type:w,data:e}},Q=function(e){return{type:k,text:e}},V=function(e){return{type:_,id:e}},J=function(e,t){return{type:C,id:e,text:t}},X=function(e){return{type:D,id:e}},G=function(){return{type:S}},H=function(){return{type:R}},Y=function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}},K=Object(u.b)(null,{addTodo:Q,addTodoRequest:A})(m),W=n(7),z=n(19),Z=function(e){var t=e.active,n=e.children,r=e.setFilter;return o.a.createElement("a",{className:b()({selected:t}),style:{cursor:"pointer"},onClick:function(){return r()}},n)},$=Object(u.b)(function(e,t){return{active:t.filter===e.visibilityFilter}},function(e,t){return{setFilter:function(){e(Y(t.filter))}}})(Z),ee=(a={},Object(z.a)(a,"show_all","All"),Object(z.a)(a,"show_active","Active"),Object(z.a)(a,"show_completed","Completed"),a),te=function(e){var t=e.activeCount,n=e.completedCount,r=e.onClearCompleted,a=1===t?"item":"items";return o.a.createElement("footer",{className:"footer"},o.a.createElement("span",{className:"todo-count"},o.a.createElement("strong",null,t||"No")," ",a," left"),o.a.createElement("ul",{className:"filters"},Object.keys(ee).map(function(e){return o.a.createElement("li",{key:e},o.a.createElement($,{filter:e},ee[e]))})),!!n&&o.a.createElement("button",{className:"clear-completed",onClick:r},"Clear completed"))},ne=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={editing:!1},n.handleDoubleClick=function(){n.setState({editing:!0})},n.handleSave=function(e,t){0===t.length?n.props.deleteTodoRequest("".concat(h.apiUrl,"/tasks/").concat(e)):n.props.updateTodoRequest("".concat(h.apiUrl,"/tasks/").concat(e),{text:t}),n.setState({editing:!1})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.todo,a=n.updateTodoRequest,c=n.deleteTodoRequest;return e=this.state.editing?o.a.createElement(O,{text:r.text,editing:this.state.editing,onSave:function(e){return t.handleSave(r.id,e)}}):o.a.createElement("div",{className:"view"},o.a.createElement("input",{className:"toggle",type:"checkbox",checked:r.completed,onChange:function(){return a("".concat(h.apiUrl,"/tasks/").concat(r.id),{completed:!r.completed})}}),o.a.createElement("label",{onDoubleClick:this.handleDoubleClick},r.text),o.a.createElement("button",{className:"destroy",onClick:function(){return c("".concat(h.apiUrl,"/tasks/").concat(r.id))}})),o.a.createElement("li",{className:b()({completed:r.completed,editing:this.state.editing})},e)}}]),t}(c.Component),re=function(e){var t=e.filteredTodos,n=e.actions;return o.a.createElement("ul",{className:"todo-list"},t.map(function(e){return o.a.createElement(ne,Object.assign({key:e.id,todo:e},n))}))},ae=n(27),ce=function(e){return e.todos},oe=Object(ae.createSelector)([function(e){return e.visibilityFilter},ce],function(e,t){switch(e){case"show_all":return t;case"show_completed":return t.filter(function(e){return e.completed});case"show_active":return t.filter(function(e){return!e.completed});default:throw new Error("Unknown filter: "+e)}}),ue=Object(ae.createSelector)([ce],function(e){return e.reduce(function(e,t){return t.completed?e+1:e},0)}),se=Object(u.b)(function(e){return{filteredTodos:oe(e)}},function(e){return{actions:Object(W.b)(r,e)}})(re),ie=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.actions.getTodoRequest)("".concat(h.apiUrl,"/tasks"))}},{key:"render",value:function(){var e=this.props,t=e.todosCount,n=e.completedCount,r=e.actions;return o.a.createElement("section",{className:"main"},!!t&&o.a.createElement("span",null,o.a.createElement("input",{className:"toggle-all",type:"checkbox",checked:n===t,readOnly:!0}),o.a.createElement("label",{onClick:r.completeAllTodos})),o.a.createElement(se,null),!!t&&o.a.createElement(te,{completedCount:n,activeCount:t-n,onClearCompleted:r.clearCompleted}))}}]),t}(c.Component),le=Object(u.b)(function(e){return{todosCount:e.todos.length,completedCount:ue(e)}},function(e){return{actions:Object(W.b)(r,e)}})(ie),de=function(){return o.a.createElement("div",null,o.a.createElement(K,null),o.a.createElement(le,null))},pe=(n(48),n(36)),fe=n.n(pe),be=n(29),Oe=n(38),he=n(37),me=n.n(he),Ee=n(20),je=n(11),ve=[];var Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show_all",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},xe=Object(W.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=Object(je.a)(e);switch(t.type){case j:return Object(je.a)(e).concat(Object(je.a)(t.data.tasks));case T:return Object(je.a)(e).concat([Object(Ee.a)({},t.data.task)]);case y:var r=t.data.task.id,a=n.findIndex(function(e){return e.id===r});return n.splice(a,1),Object(je.a)(n);case w:var c=t.data.task,o=n.find(function(e){return e.id===c.id});return Object.assign(o,c),Object(je.a)(n);case k:return Object(je.a)(e).concat([{id:(new Date).getTime().toString(),completed:!1,text:t.text}]);case _:return e.filter(function(e){return e.id!==t.id});case C:return e.map(function(e){return e.id===t.id?Object(Ee.a)({},e,{text:t.text}):e});case D:return e.map(function(e){return e.id===t.id?Object(Ee.a)({},e,{completed:!e.completed}):e});case S:var u=e.every(function(e){return e.completed});return e.map(function(e){return Object(Ee.a)({},e,{completed:!u})});case R:return e.filter(function(e){return!1===e.completed});default:return e}},visibilityFilter:Te}),ye=n(6),ge=n.n(ye),we=n(4),ke=n(28),_e={Accept:"application/json, text/plain, */*","Content-Type":"application/json"};function Ce(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?(t=new Request(e,n||{}),Object(ke.forEach)(_e,function(e,r){n.headers&&n.headers[r]||t.headers.set(r,_e[r])})):(t=e,Object(ke.forEach)(_e,function(e,r){n.headers&&n.headers[r]||t.headers.set(r,_e[r])})),fetch(t).then(function(e){return e.json()}).catch(console.log)}var De=ge.a.mark(qe),Se=ge.a.mark(Pe),Re=ge.a.mark(Fe),Ne=ge.a.mark(Me),Le=ge.a.mark(Be),Ue=ge.a.mark(Qe),Ie=ge.a.mark(Ve),Ae=ge.a.mark(Je);function qe(e){var t;return ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(we.c)({type:L,sending:!0});case 2:return n.prev=2,n.next=5,Object(we.a)(Ce,e);case 5:return t=n.sent,n.next=8,Object(we.c)({type:L,sending:!1});case 8:return n.next=10,Object(we.c)({type:j,data:t});case 10:return n.abrupt("return",t);case 13:return n.prev=13,n.t0=n.catch(2),n.next=17,Object(we.c)({type:N,error:n.t0.message});case 17:case"end":return n.stop()}},De,this,[[2,13]])}function Pe(){var e,t,n;return ge.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=!0;case 1:if(!e){r.next=10;break}return r.next=4,Object(we.d)(E);case 4:return t=r.sent,n=t.url,r.next=8,Object(we.a)(qe,n);case 8:r.next=1;break;case 10:case"end":return r.stop()}},Se,this)}function Fe(e,t){var n;return ge.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(we.c)({type:L,sending:!0});case 2:return r.prev=2,r.next=5,Object(we.a)(Ce,e,{method:"POST",body:JSON.stringify(t)});case 5:return n=r.sent,r.next=8,Object(we.c)({type:L,sending:!1});case 8:return r.next=10,Object(we.c)({type:T,data:n});case 10:return r.abrupt("return",n);case 13:return r.prev=13,r.t0=r.catch(2),r.next=17,Object(we.c)({type:N,error:r.t0.message});case 17:case"end":return r.stop()}},Re,this,[[2,13]])}function Me(){var e,t,n,r;return ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=!0;case 1:if(!e){a.next=10;break}return a.next=4,Object(we.d)(v);case 4:return t=a.sent,n=t.url,r=t.payload,a.next=8,Object(we.a)(Fe,n,r);case 8:a.next=1;break;case 10:case"end":return a.stop()}},Ne,this)}function Be(e,t){var n;return ge.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(we.c)({type:L,sending:!0});case 2:return t.prev=2,t.next=5,Object(we.a)(Ce,e,{method:"DELETE"});case 5:return n=t.sent,t.next=8,Object(we.c)({type:L,sending:!1});case 8:return t.next=10,Object(we.c)({type:y,data:n});case 10:return t.abrupt("return",n);case 13:return t.prev=13,t.t0=t.catch(2),t.next=17,Object(we.c)({type:N,error:t.t0.message});case 17:case"end":return t.stop()}},Le,this,[[2,13]])}function Qe(){var e,t,n,r;return ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=!0;case 1:if(!e){a.next=10;break}return a.next=4,Object(we.d)(x);case 4:return t=a.sent,n=t.url,r=t.payload,a.next=8,Object(we.a)(Be,n,r);case 8:a.next=1;break;case 10:case"end":return a.stop()}},Ue,this)}function Ve(e,t){var n;return ge.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(we.c)({type:L,sending:!0});case 2:return r.prev=2,r.next=5,Object(we.a)(Ce,e,{method:"PATCH",body:JSON.stringify(t)});case 5:return n=r.sent,r.next=8,Object(we.c)({type:L,sending:!1});case 8:return r.next=10,Object(we.c)({type:w,data:n});case 10:return r.abrupt("return",n);case 13:return r.prev=13,r.t0=r.catch(2),r.next=17,Object(we.c)({type:N,error:r.t0.message});case 17:case"end":return r.stop()}},Ie,this,[[2,13]])}function Je(){var e,t,n,r;return ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=!0;case 1:if(!e){a.next=10;break}return a.next=4,Object(we.d)(g);case 4:return t=a.sent,n=t.url,r=t.payload,a.next=8,Object(we.a)(Ve,n,r);case 8:a.next=1;break;case 10:case"end":return a.stop()}},Ae,this)}var Xe=ge.a.mark(He),Ge=ge.a.mark(Ye);function He(){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("Hello Redux-Saga");case 2:case"end":return e.stop()}},Xe,this)}function Ye(){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.b)(He);case 2:return e.next=4,Object(we.b)(Pe);case 4:return e.next=6,Object(we.b)(Me);case 6:return e.next=8,Object(we.b)(Qe);case 8:return e.next=10,Object(we.b)(Je);case 10:case"end":return e.stop()}},Ge,this)}var Ke={key:"root",storage:me.a,whitelist:[""]},We=Object(be.a)(Ke,xe);var ze,Ze,$e=(ze=Object(Oe.a)(),Ze=Object(W.e)(We,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(W.a)(ze)),ze.run(Ye),{store:Ze,persistor:Object(be.b)(Ze)}).store;U(),fe.a.render(o.a.createElement(u.a,{store:$e},o.a.createElement(de,null)),document.getElementById("root")),$e.subscribe(function(){console.log("store change")})}},[[39,2,1]]]);
//# sourceMappingURL=main.09f44924.chunk.js.map